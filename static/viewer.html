<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>ZIM Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" href="./skin/taskbar.css?KIWIXCACHEID" rel="Stylesheet" />
    <link type="text/css" href="./skin/css/autoComplete.css?KIWIXCACHEID" rel="Stylesheet" />
    <script type="text/javascript" src="./viewer_settings.js"></script>
    <script type="module" src="./skin/i18n.js?KIWIXCACHEID" defer></script>
    <script type="text/javascript" src="./skin/languages.js?KIWIXCACHEID" defer></script>
    <script type="text/javascript" src="./skin/viewer.js?KIWIXCACHEID" defer></script>
    <script type="text/javascript" src="./skin/autoComplete.min.js?KIWIXCACHEID"></script>
    <script>
      function getRootLocation() {
        const p = location.pathname;
        return p.slice(0, p.length - '/viewer'.length);
      }

      const root = getRootLocation();
      const blankPageUrl = root + "/skin/blank.html?KIWIXCACHEID";

      if ( location.hash == '' ) {
        location.href = root + '/';
      }
    </script>
  </head>

  <body style="margin:0" onload="setupViewer()">
    <div class="kiwix" style="display:none" id="kiwixtoolbarwrapper">
      <div id="kiwixtoolbar" class="ui-widget-header">
        <div class="kiwix_centered">
          <a id="uiLanguageSelectorButton" onclick="window.modalUILanguageSelector.show()">
            <svg xmlns="http://www.w3.org/2000/svg"
                 width="30"
                 height="30"
                 viewBox="0 0 20 20">
              <g fill="#36c">
                <path d="M20 18h-1.44a.61.61 0 0 1-.4-.12.81.81 0 0 1-.23-.31L17 15h-5l-1 2.54a.77.77 0 0 1-.22.3.59.59 0 0 1-.4.14H9l4.55-11.47h1.89zm-3.53-4.31L14.89 9.5a11.62 11.62 0 0 1-.39-1.24q-.09.37-.19.69l-.19.56-1.58 4.19zm-6.3-1.58a13.43 13.43 0 0 1-2.91-1.41 11.46 11.46 0 0 0 2.81-5.37H12V4H7.31a4 4 0 0 0-.2-.56C6.87 2.79 6.6 2 6.6 2l-1.47.5s.4.89.6 1.5H0v1.33h2.15A11.23 11.23 0 0 0 5 10.7a17.19 17.19 0 0 1-5 2.1q.56.82.87 1.38a23.28 23.28 0 0 0 5.22-2.51 15.64 15.64 0 0 0 3.56 1.77zM3.63 5.33h4.91a8.11 8.11 0 0 1-2.45 4.45 9.11 9.11 0 0 1-2.46-4.45z"/>
              </g>
            </svg>
          </a>
          <div class="kiwix_searchform">
            <form class="kiwixsearch" method="GET" action="javascript:performSearch()" id="kiwixsearchform">
              <label for="kiwixsearchbox">&#x1f50d;</label>
              <input autocomplete="off" class="ui-autocomplete-input" id="kiwixsearchbox" name="pattern" type="text" title="Search '{{title}}'" aria-label="Search '{{title}}'">
            </form>
          </div>
          <input type="checkbox" id="kiwix_button_show_toggle">
          <label for="kiwix_button_show_toggle"><img src="./skin/caret.png?KIWIXCACHEID" alt=""></label>
          <div class="kiwix_button_cont">
            <a id="kiwix_serve_taskbar_library_button" title="Go to welcome page" aria-label="Go to welcome page" href="./"><button>&#x1f3e0;</button></a>
            <span id="kiwix_serve_taskbar_book_ui_group">
              <a id="kiwix_serve_taskbar_home_button"
                 title="Go to the main page of the current book"
                 aria-label="Go to the main page of the current book"
                 onclick="gotoMainPageOfCurrentBook()"></a>
              <a id="kiwix_serve_taskbar_random_button"
                 title="Go to a randomly selected page"
                 aria-label="Go to a randomly selected page"
                 onclick="gotoRandomPage()">
                <button>&#x1F3B2;</button>
              </a>
            </span>
          </div>
        </div>
      </div>
    </div>

    <iframe id="content_iframe"
            referrerpolicy="same-origin"
            sandbox="allow-same-origin allow-scripts"
            onload="on_content_load()"
            src="./skin/blank.html?KIWIXCACHEID" title="ZIM content" width="100%"
            style="border:0px">
    </iframe>

    <script>
    </script>
  </body>
</html>
